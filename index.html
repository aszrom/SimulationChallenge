<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.21">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Simulation Challenge</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="index_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="index_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting-ea1d7ac60288e0f1efdbc993fd8432ae.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap-d6a003b94517c951b2d65075d42fb01b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="index.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Simulation Challenge</h1>
<p class="subtitle lead">Generative Models and Monte Carlo Simulation</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="simulation-challenge---monte-carlo-analysis" class="level1">
<h1>üé≤ Simulation Challenge - Monte Carlo Analysis</h1>
<section id="challenge-overview" class="level2">
<h2 class="anchored" data-anchor-id="challenge-overview">Challenge Overview</h2>
<p><strong>Your Mission:</strong> Create a comprehensive Quarto document that simulates one or two investment strategies, analyzes the results, and demonstrates your ability to present counter-intuitive findings compellingly. Then render the document to HTML and deploy it via GitHub Pages from a new repository called ‚ÄúsimulationChallenge.‚Äù</p>
</section>
<section id="the-investment-game" class="level2">
<h2 class="anchored" data-anchor-id="the-investment-game">The Investment Game üéØ</h2>
<section id="original-game-strategy" class="level3">
<h3 class="anchored" data-anchor-id="original-game-strategy">Original Game Strategy</h3>
<div id="exm-ErgodicityEconomicsExample" class="theorem example">
<p><span class="theorem-title"><strong>Example 1</strong></span> Imagine you are offered the following game and given a $1,000 budget in a special account to play the game: I will flip a coin, and if it comes up heads, we increase your account‚Äôs balance by 50%; if it comes up tails, we reduce your account‚Äôs balance by 40%. We are not only doing this once, but we will do it once per year until you turn 55. When you turn 55, you will receive the balance in your account.</p>
</div>
</section>
<section id="generative-dag-model-for-the-investment-game" class="level3">
<h3 class="anchored" data-anchor-id="generative-dag-model-for-the-investment-game">Generative DAG Model for the Investment Game</h3>
</section>
</section>
<section id="challenge-requirements" class="level2">
<h2 class="anchored" data-anchor-id="challenge-requirements">Challenge Requirements üìã</h2>
<section id="questions-to-answer-for-75-grade-on-challenge" class="level3">
<h3 class="anchored" data-anchor-id="questions-to-answer-for-75-grade-on-challenge">Questions to Answer for 75% Grade on Challenge</h3>
<ol type="1">
<li><p><strong>Expected Value Analysis:</strong> What is the ‚Äúexpected value‚Äù of your account balance after 1 coin flip for the original game?</p></li>
<li><p><strong>Expectation vs.&nbsp;Reality:</strong> Is the expected value positive or negative? Do you expect your account to be worth more or less than $1,000 based on this result?</p></li>
<li><p><strong>Single Simulation:</strong> Run one simulation showing the dynamics of your account balance over time. Make an object-oriented matplotlib OR ggplot2 plot showing your simulated account balance over time (i.e.&nbsp;as you age). Comment on the results, are you happy?</p></li>
</ol>
</section>
</section>
<section id="analysis-and-solutions" class="level2">
<h2 class="anchored" data-anchor-id="analysis-and-solutions">Analysis and Solutions</h2>
<section id="question-1-expected-value-analysis" class="level3">
<h3 class="anchored" data-anchor-id="question-1-expected-value-analysis">Question 1: Expected Value Analysis</h3>
<p><strong>What is the ‚Äúexpected value‚Äù of your account balance after 1 coin flip for the original game?</strong></p>
<p>Let‚Äôs calculate this step by step using R:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Expected Value Calculation:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>========================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Initial Balance: $ 1000 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Heads (50% chance): $ 1000  &lt;U+00D7&gt; 1.5 = $ 1500 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Tails (50% chance): $ 1000  &lt;U+00D7&gt; 0.6 = $ 600 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Expected Value = 0.5 &lt;U+00D7&gt; $ 1500  + 0.5 &lt;U+00D7&gt; $ 600 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Expected Value = $ 750  + $ 300 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Expected Value = $ 1050 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Simulation Verification:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>=======================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Simulated Expected Value (10,000 trials): $ 1044.87 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Theoretical Expected Value: $ 1050 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Difference: $ 5.13 </code></pre>
</div>
</div>
</section>
<section id="question-2-expectation-vs.-reality" class="level3">
<h3 class="anchored" data-anchor-id="question-2-expectation-vs.-reality">Question 2: Expectation vs.&nbsp;Reality</h3>
<p><strong>Is the expected value positive or negative? Do you expect your account to be worth more or less than $1,000 based on this result?</strong></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Expectation vs. Reality Analysis:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>================================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Initial Investment: $ 1000 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Expected Value after 1 flip: $ 1050 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Expected Gain/Loss: $ 50 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Expected Return:  5 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
&lt;U+2705&gt; The expected value is POSITIVE!
Based on this result, I expect my account to be worth MORE than $1,000.
This suggests the game is favorable in the long run.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
However, the expected value calculation assumes we can play this game many times.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>But in reality, we only get to play once per year until age 55.</code></pre>
</div>
</div>
</section>
<section id="question-3-single-simulation" class="level3">
<h3 class="anchored" data-anchor-id="question-3-single-simulation">Question 3: Single Simulation</h3>
<p><strong>Run one simulation showing the dynamics of your account balance over time. Make an object-oriented ggplot2 plot showing your simulated account balance over time (i.e.&nbsp;as you age). Comment on the results, are you happy?</strong></p>
<p>Let‚Äôs simulate the investment game over multiple years to see how the account balance evolves:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Single Investment Simulation Results:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>====================================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Starting Age: 25</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Ending Age: 55</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Initial Balance: $ 1000 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Final Balance: $ 205.89 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Total Return:  -79.4 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Annualized Return:  -5.1 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
First 5 years:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 x 2
    age balance
  &lt;dbl&gt;   &lt;dbl&gt;
1    25    1000
2    26     600
3    27     360
4    28     540
5    29     810
6    30    1215</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Last 5 years:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 x 2
    age balance
  &lt;dbl&gt;   &lt;dbl&gt;
1    51    254.
2    52    381.
3    53    572.
4    54    343.
5    55    206.</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="index_files/figure-html/single-simulation-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Single simulation of investment game showing account balance over time</figcaption>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
&lt;U+0001F4CA&gt; Analysis of Single Simulation:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>================================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;U+274C&gt; This simulation was UNSUCCESSFUL!
The account shrank from $ 1000  to $ 205.89 
This represents a loss of $ 794.11 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Year-by-year breakdown:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Winning years:  15 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Losing years:  15 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Win rate:  50 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
&lt;U+0001F914&gt; Key Insights:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>===============</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>1. Despite a positive expected value, +5% per year, this single path shows the reality of randomness.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>2. The multiplicative nature of the game means early losses are very hard to recover from.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>3. But its hard to get a full understanding from this single simulation.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>4. The log scale plot shows the exponential nature of the growth/decay process.</code></pre>
</div>
</div>
</section>
<section id="question-4-multiple-simulations" class="level3">
<h3 class="anchored" data-anchor-id="question-4-multiple-simulations">Question 4: Multiple Simulations</h3>
<p><strong>Run 100 simulations modelling the dynamics of your account balance over time. Make an object-oriented ggplot2 plot showing a probability distribution of the 100 simulated account balance at age 55. Comment on the results, are you happy? Why or why not?</strong></p>
<p>Now let‚Äôs run 100 simulations to see the distribution of outcomes:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Running 100 simulations...</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>100 Simulations Summary:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>=======================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Mean Final Balance: $ 9225.83 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Median Final Balance: $ 205.89 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Minimum Final Balance: $ 0.34 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Maximum Final Balance: $ 785412.3 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Probability above $1,000:  30 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Probability above $10,000:  2 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Probability above $100,000:  1 %</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="index_files/figure-html/multiple-simulations-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Distribution of final account balances from 100 simulations</figcaption>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
&lt;U+0001F4CA&gt; Analysis of 100 Simulations:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>===============================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Successful simulations (&gt;$1,000):  30  ( 30 %)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Unsuccessful simulations (&lt;$1,000):  70  ( 70 %)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Extreme outcomes:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Mega wins (&gt;$100,000):  1  simulations</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Total losses (&lt;$100):  43  simulations</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
&lt;U+0001F914&gt; Key Insights from 100 Simulations:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>====================================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>1. The results are really skewed - most people lose money, but a few get very rich.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>2. Even though the expected value is positive, the median outcome is much lower than the mean.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>3. This shows how ensemble averages don't equal time averages - classic ergodicity breaking.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>4. The multiplicative nature creates extreme inequality in outcomes.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>5. Most people would be unhappy with this investment strategy!</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
&lt;U+2753&gt; Am I happy with these results?</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>===============================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;U+274C&gt; NO - Less than 50% of simulations were successful.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>The probability of ending up with more than $1,000 is only  30 %.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>This means there's a  70 % chance of losing money over 30 years!</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
This is a perfect example of why expected value can be misleading</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>when you only get to play the game once (or a limited number of times).</code></pre>
</div>
</div>
</section>
<section id="question-5-probability-analysis" class="level3">
<h3 class="anchored" data-anchor-id="question-5-probability-analysis">Question 5: Probability Analysis</h3>
<p><strong>Based on the 100 simulations above, what is the probability that your account balance will be greater than $1,000 at age 55?</strong></p>
<p>Let‚Äôs analyze the probability results from our 100 simulations:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Probability Analysis Results:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>============================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Based on 100 simulations:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;U+0001F3AF&gt; MAIN QUESTION: Probability of balance &gt; $1,000 at age 55:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>   Answer:  30 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>   95% Confidence Interval: [ 21 %,  39 %]</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;U+0001F4CA&gt; Additional Probability Breakdown:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Probability &gt; $1,000:   30 % ( 30  out of 100)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Probability &gt; $10,000:  2 % ( 2  out of 100)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Probability &gt; $100,000: 1 % ( 1  out of 100)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Probability &lt; $1,000:   70 % ( 70  out of 100)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Probability &lt; $100:     43 % ( 43  out of 100)</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="index_files/figure-html/probability-analysis-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Probability analysis of final account balances</figcaption>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
&lt;U+0001F914&gt; Key Insights from Probability Analysis:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>==========================================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>1. The probability of ending up with MORE than $1,000 is only  30 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>2. This means there's a  70 % chance of LOSING money over 30 years!</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>3. Even though the expected value is positive (+5% per year), most people lose money.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>4. Only  1 % of people become mega-rich (&gt;$100,000).</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>5. This shows how ergodicity breaking works in economics.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
&lt;U+0001F4C8&gt; Theoretical vs Empirical Comparison:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>=====================================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Theoretical probability (if game were fair): 50%</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Empirical probability (from 100 sims):  30 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Difference:  -20  percentage points</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
&lt;U+274C&gt; The empirical probability is LOWER than 50%!
This confirms that the investment game is unfavorable for most players.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
&lt;U+0001F3AF&gt; FINAL ANSWER TO QUESTION 5:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>==============================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>The probability that your account balance will be greater than $1,000 at age 55</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>is approximately  30 % based on 100 simulations.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>This means you have a  70 % chance of losing money!</code></pre>
</div>
</div>
</section>
<section id="question-6-strategy-comparison" class="level3">
<h3 class="anchored" data-anchor-id="question-6-strategy-comparison">Question 6: Strategy Comparison</h3>
<p><strong>Run 100 simulations for the modified game strategy shown below. What is the probability that your account balance will be greater than $10,000 at age 55? Is this probability higher or lower than the probability in the original game?</strong></p>
<p>First, let‚Äôs define the modified strategy:</p>
<section id="modified-game-strategy" class="level4">
<h4 class="anchored" data-anchor-id="modified-game-strategy">Modified Game Strategy</h4>
<div id="exm-ErgodicityEconomicsExampleModified" class="theorem example">
<p><span class="theorem-title"><strong>Example 2</strong></span> Imagine you are offered the following game and given a $1,000 budget in a special account to play the game: I will flip a coin, and if it comes up heads, we increase your bet by 50%; if it comes up tails, we reduce your bet by 40%. You must bet exactly 50% of your current account balance on each flip, and this 50% is locked in for each round. We are not only doing this once, but we will do it once per year until you turn 55. When you turn 55, you will receive the balance in your account.</p>
</div>
<p><strong>Key Difference:</strong> In the modified strategy, you only bet 50% of your balance each round, so you can‚Äôt lose everything in one bad flip.</p>
<p>Now let‚Äôs compare both strategies:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Running 100 simulations for each strategy...</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Strategy Comparison Results:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>===========================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;U+0001F4CA&gt; SUMMARY STATISTICS:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>======================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 x 9
  strategy mean_balance median_balance min_balance max_balance prob_above_1000
  &lt;chr&gt;           &lt;dbl&gt;          &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;           &lt;dbl&gt;
1 Modified        2091.          1000       68.7        22737.            0.45
2 Original         891.           206.       0.843      20107.            0.23
# i 3 more variables: prob_above_10000 &lt;dbl&gt;, prob_above_100000 &lt;dbl&gt;,
#   prob_below_1000 &lt;dbl&gt;</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
&lt;U+0001F3AF&gt; KEY PROBABILITIES:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>=====================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Original Strategy:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  P(balance &gt; $1,000):   45 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  P(balance &gt; $10,000):  1 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  P(balance &gt; $100,000): 0 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Modified Strategy:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  P(balance &gt; $1,000):   23 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  P(balance &gt; $10,000):  1 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  P(balance &gt; $100,000): 0 %</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="index_files/figure-html/strategy-comparison-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Comparison of original vs modified investment strategies</figcaption>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
&lt;U+0001F3AF&gt; ANSWER TO QUESTION 6:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>========================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Probability of balance &gt; $10,000 at age 55:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  Original Strategy:   1 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  Modified Strategy:   1 %</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
&lt;U+274C&gt; The ORIGINAL strategy has a HIGHER probability!
Difference: + 0  percentage points</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
&lt;U+0001F914&gt; Key Insights from Strategy Comparison:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>=========================================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>1. The modified strategy is more conservative - you can't lose everything in one flip.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>2. This reduces extreme losses but also limits extreme gains.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>3. The modified strategy should have a higher probability of modest success.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>4. However, it may have a lower probability of mega-wins.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>5. This shows the risk-return tradeoff in investment strategies.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
&lt;U+0001F4C8&gt; RISK ANALYSIS:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>=================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Original Strategy Risk:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  - Can lose everything in one bad flip</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  - Higher volatility (extreme outcomes)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  - Higher potential for both gains and losses</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Modified Strategy Risk:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  - Can only lose 50% of balance per flip</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  - Lower volatility (more stable outcomes)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  - More predictable, less extreme results</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
&lt;U+0001F3AF&gt; FINAL CONCLUSION:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>====================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>The modified strategy is generally better for most people because:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>1. It reduces the risk of total loss</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>2. It provides more consistent, predictable outcomes</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>3. It has a higher probability of modest success</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>4. It's less dependent on getting lucky early</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
This is a perfect example of why diversification and risk management</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>are crucial in real-world investing!</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="project-analysis-and-review" class="level2">
<h2 class="anchored" data-anchor-id="project-analysis-and-review">Project Analysis and Review</h2>
<p>This simulation challenge provided a fascinating exploration into the world of generative models and Monte Carlo simulation through the lens of an investment game. By modeling a simple coin-flipping investment strategy, we uncovered profound insights about probability, risk, and the often counterintuitive nature of financial decision-making. The project systematically built from basic expected value calculations to complex multi-strategy comparisons, revealing how mathematical theory can diverge dramatically from real-world outcomes. Through 100 simulations of each strategy, we demonstrated the power of computational methods to illuminate patterns that would be impossible to see through analytical methods alone.</p>
<p>The most striking discovery was the concept of ergodicity breaking - where ensemble averages (what happens across many people) differ fundamentally from time averages (what happens to one person over time). Despite a positive expected value of +5% per year, the majority of individual investors would actually lose money over the 30-year period. This challenges conventional wisdom about expected value and highlights why diversification and risk management are crucial in real-world investing. The comparison between the original strategy (betting entire balance) and the modified strategy (betting only 50% of balance) revealed important insights about risk management, with the modified approach providing more consistent outcomes and higher probabilities of modest success - a valuable lesson for practical investment decisions.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>